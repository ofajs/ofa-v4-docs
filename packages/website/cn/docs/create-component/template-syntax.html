
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>empty template</title>
    <script
      src="http://127.0.0.1:5500/packages/generator/statics/init.js"
      config="../../doc-config.json"
    ></script>
    <link
      rel="stylesheet"
      href="http://127.0.0.1:5500/packages/generator/statics/css/public.css"
    />
  </head>
  <body>
    <o-app
      src="http://127.0.0.1:5500/packages/generator/statics/app-config.mjs"
    >
      <template page>
        <link
          rel="stylesheet"
          href="http://127.0.0.1:5500/packages/generator/statics/css/github-markdown.css"
        />
        <article class="markdown-body">
        <h1>模板语法</h1>
<p><code>ofa.js</code> 提供了一系列强大的模板语法，使你能够更灵活地操作组件的界面元素和数据。这些模板语法能够帮助你实现丰富的界面效果和交互体验。</p>
<h2>渲染文本语法</h2>
<p>通过使用 <code>{{key}}</code> 的渲染文本语法，你可以将数据渲染为文本内容，并将其嵌入到组件的模板中。当数据发生变化时，对应的文本内容也会自动更新。</p>
<p>以下是一个使用文本渲染语法的示例：</p>
<pre><code class="language-html">&lt;!-- template.html --&gt;
&lt;div&gt;
    &lt;p&gt;Welcome, {{username}}!&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">// MyComponent.js
export const type = $.COMP;

export const data = {
  username: &quot;JohnDoe&quot;,
};
</code></pre>
<p>在上述示例中，<code>{{username}}</code> 将会被组件的 <code>data</code> 中的 <code>username</code> 属性值所替代，从而在界面上显示出 &quot;Welcome, JohnDoe!&quot;。</p>
<h2>属性绑定语法</h2>
<p>使用 <code>:xxx=&#39;yyy&#39;</code> 的属性绑定语法，你可以将组件的属性绑定到模板内元素的属性上。这种绑定是单向的，属性的变化会影响到模板内元素的属性，但不会反过来影响组件的属性。</p>
<p>以下是一些常见的属性绑定示例：</p>
<pre><code class="language-html">&lt;!-- template.html --&gt;
&lt;l-m src=&quot;custom-component.mjs&quot;&gt;&lt;/l-m&gt;  &lt;!-- 加载 custom-component 组件 --&gt;
&lt;div&gt;
    &lt;p :text=&quot;greeting&quot;&gt;&lt;/p&gt;
    &lt;input :value=&quot;inputValue&quot; /&gt;
    &lt;custom-component :custom-prop=&quot;customValue&quot;&gt;&lt;/custom-component&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">// MyComponent.js
export const type = $.COMP;

export const data = {
  greeting: &quot;Hello, World!&quot;,
  inputValue: &quot;&quot;,
  customValue: &quot;Custom Value&quot;,
};
</code></pre>
<p>在上述示例中，<code>:text=&quot;greeting&quot;</code> 将组件的 <code>data</code> 中的 <code>greeting</code> 属性值绑定到 <code>&lt;p&gt;</code> 元素的文本内容上。<code>:value=&quot;inputValue&quot;</code> 将组件的 <code>data</code> 中的 <code>inputValue</code> 属性值绑定到 <code>&lt;input&gt;</code> 元素的 <code>value</code> 属性上。对于自定义组件，<code>custom-prop</code> 是自定义组件的属性名，它将组件的 <code>data</code> 中的 <code>customValue</code> 属性值传递给自定义组件。</p>
<h2>事件绑定</h2>
<p>使用 <code>on:click=&quot;yyy&quot;</code> 的形式，你可以将目标元素的指定事件（例如 <code>click</code>）绑定到宿主组件的属性 <code>yyy</code> 上。这样，当目标元素触发指定事件时，会调用宿主组件中相应的属性方法。</p>
<p>以下是一个示例：</p>
<pre><code class="language-html">&lt;!-- template.html --&gt;
&lt;button on:click=&quot;increaseCount&quot;&gt;Increase Count&lt;/button&gt;
</code></pre>
<pre><code class="language-javascript">// MyComponent.js
export const type = $.COMP;

export const data = {
  count: 0,
};

export const proto = {
  increaseCount() {
    this.count++;
  },
};
</code></pre>
<p>在上述示例中，当按钮被点击时，会调用宿主组件的 <code>increaseCount</code> 方法，从而增加 <code>count</code> 属性的值。</p>
<h2>attributes 绑定</h2>
<p>通过 <code>attr:xxx=&quot;yyy&quot;</code> 的形式，你可以将目标元素的指定属性 <code>xxx</code> 绑定到宿主组件的属性 <code>yyy</code> 上。这样，目标元素的属性会随着宿主组件的属性变化而变化。</p>
<pre><code class="language-html">&lt;!-- template.html --&gt;
&lt;style&gt;
[fontcolor=&quot;red&quot;]{
    color: red;
}
&lt;/style&gt;

&lt;div attr:fontcolor=&quot;val&quot;&gt;
 I am text
&lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">// MyComponent.js
export const type = $.COMP;

export const data = {
  val: &quot;red&quot;,
};
</code></pre>
<p>在上述示例中，<code>attr:fontcolor=&quot;val&quot;</code> 会将宿主组件的 <code>val</code> 属性绑定到 <code>&lt;div&gt;</code> 元素的 <code>fontcolor</code> attribute上。</p>
<h2>动态类名绑定</h2>
<p>使用 <code>class:xxx=&quot;yyy&quot;</code> 的形式，你可以根据宿主组件的属性值来动态地为目标元素添加或移除类名。当宿主组件的 <code>yyy</code> 属性为 <code>true</code> 时，目标元素会添加类名 <code>xxx</code>；否则，会移除该类名。</p>
<pre><code class="language-html">&lt;!-- template.html --&gt;
&lt;style&gt;
  button.active{
    background-color: red;
  }
&lt;/style&gt;
&lt;button class:active=&quot;isActive&quot;&gt;Active Button&lt;/button&gt;
</code></pre>
<pre><code class="language-javascript">// MyComponent.js
export const type = $.COMP;

export const data = {
  isActive: false,
};
</code></pre>
<p>在上述示例中，如果 <code>isActive</code> 属性为 <code>true</code>，则按钮会添加 <code>active</code> 类名，从而应用特定的样式。</p>
<h2>双向数据绑定</h2>
<p>通过 <code>sync:xxx=&#39;yyy&#39;</code> 的形式，你可以实现双向数据绑定。这使得目标元素的属性 <code>xxx</code> 和宿主组件的属性 <code>yyy</code> 保持同步，即目标属性的变化会反映到宿主属性上，宿主属性的变化也会同步到目标属性上。</p>
<p>以下是一个示例：</p>
<pre><code class="language-html">&lt;!-- template.html --&gt;
&lt;input sync:value=&quot;inputValue&quot; /&gt;
</code></pre>
<pre><code class="language-javascript">// MyComponent.js
export const type = $.COMP;

export const data = {
  inputValue: &quot;Initial Value&quot;,
};
</code></pre>
<p>在上述示例中，<code>sync:value=&quot;inputValue&quot;</code> 实现了一个双向数据绑定，当输入框的值发生变化时，<code>inputValue</code> 会自动更新；反之，当 <code>inputValue</code> 发生变化时，输入框的值也会随之变化。</p>

        </article>
        <script>
          export const parent =
            "http://127.0.0.1:5500/packages/generator/statics/pages/article-layout.html";
        </script>
      </template>
    </o-app>
  </body>
</html>      
